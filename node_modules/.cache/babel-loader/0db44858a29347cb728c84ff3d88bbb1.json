{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\Win11 Pro\\\\Desktop\\\\NPM\\\\Tetris-Game-Deployment-Automation\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Win11 Pro\\\\Desktop\\\\NPM\\\\Tetris-Game-Deployment-Automation\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nconst _excluded = [\"lose\", \"restartClick\", \"map\", \"player\", \"hint\", \"status\", \"paused\"];\nvar _templateObject,\n  _templateObject2,\n  _templateObject3,\n  _templateObject4,\n  _templateObject5,\n  _templateObject6,\n  _templateObject7,\n  _templateObject8,\n  _templateObject9,\n  _jsxFileName = \"C:\\\\Users\\\\Win11 Pro\\\\Desktop\\\\NPM\\\\Tetris-Game-Deployment-Automation\\\\src\\\\components\\\\Stage\\\\index.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport Switch from \"react-switch\";\nimport useWindowDimensions from \"../../hooks/useWindowDimensions\";\nimport background from \"../../images/background.jpg\";\nimport StatusRow from \"../StatusRow\";\nimport LoseGame from '../LoseGame';\nimport Color from \"color\";\nconst Game = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n\\twidth: 100vw;\\n\\theight: \", \"vh;\\n\\tdisplay: flex;\\n\\tflex-direction: \", \";\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\tbackground-image: url(\", \");\\n\\tbackground-size: cover;\\n\\tbackground-position: center;\\n\"])), props => props.portrait ? \"95\" : \"100\", props => props.portrait ? \"column\" : \"row\", background);\nconst ContainerNext = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n\\t\", \"\\n\\t\", \"\\n\\tmargin-right: \", \"px;\\n\\tmargin-bottom: \", \"px;\\n\\tdisplay: flex;\\n\\tflex-direction: \", \";\\n\\tjustify-content: \", \";\\n\\talign-items: center;\\n\"])), props => !props.portrait && \"height: \".concat(props.pixelSize * 18 + 18 / 3 * 1, \"px;\"), props => props.portrait && \"width: \".concat(props.pixelSize * 10 + 10 / 3 * 1, \"px;\"), props => props.portrait ? 0 : props.pixelSize / 3, props => props.portrait ? props.pixelSize / 3 : 0, props => props.portrait ? \"row\" : \"column\", props => props.portrait ? \"space-between\" : \"flex-start\");\nconst Next = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n\\twidth: \", \"px;\\n\\theight: \", \"px;\\n\\tbackground-color: \", \";\\n\\ttransition: background-color 0.5;\\n\\tborder: \", \"px solid white;\\n\\toverflow: hidden;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\tmargin-bottom: \", \"px;\\n\\tmargin-right: \", \"px;\\n\"])), props => props.pixelSize * 3, props => props.pixelSize * 3, props => props.theme3d ? \"#444\" : \"black\", props => props.pixelSize / 10, props => props.portrait ? 0 : props.pixelSize / 3, props => !props.portrait ? 0 : props.pixelSize / 3);\nconst StyledStage = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n\\tborder: \", \"px solid white;\\n\\tbackground-color: \", \";\\n\\ttransition: background-color 0.5s;\\n\\toverflow: hidden;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\"])), props => props.pixelSize / 10, props => props.theme3d ? \"#444\" : \"black\");\nconst Center = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\"])));\nconst Row = styled.div(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tjustify-content: center;\\n\\theight: \", \"px;\\n\"])), props => props.stage ? props.pixelSize : props.pixelSize / 1.6);\nconst Pixel = React.memo(styled.div(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n\\twidth: \", \"px;\\n\\theight: \", \"px;\\n\\tbackground-color: \", \";\\n\\tposition: relative;\\n\\tz-index: \", \";\\n\\n\\t\", \";\\n\\n\\t\", \";\\n\\n\\t\", \";\\n\\n\\t\", \";\\n\"])), props => props.stage ? props.pixelSize : props.pixelSize / 1.6, props => props.stage ? props.pixelSize : props.pixelSize / 1.6, props => props.fill === 1 ? props.color : \"inherited\", props => props.zIndex, props => props.paused && \"\\n\\t\\ttransition: all 1s;\\n\\t\", props => props.fill && props.theme3d && \";\\n\\t\\tbox-shadow: \".concat(props.pixelSize / 4.16, \"px \").concat(props.pixelSize / 4.16, \"px \").concat(props.pixelSize / 5.55, \"px #222\").concat(props.topBloco ? \", 0 \".concat(-props.pixelSize / 4.16, \"px 0 \").concat(Color(props.color).lighten(0.2)) : \"\", \" \\n\\t\"), props => !props.theme3d && \"\\n\\t\\tborder-left: 1px solid \".concat(props.stage || props.fill || props.hint ? \"#222\" : \"black\", \";\\n\\t\\tborder-top: 1px solid \").concat(props.stage || props.fill || props.hint ? \"#222\" : \"black\", \";\\t\\n\\t\"), props => props.hint && \"\\n\\t\\tborder: 1px solid \".concat(Color(props.playerColor).alpha(0.5), \";\\n\\t\\tbackground-color: rgba(255,255,255,0.1);\\n\\t\")));\nconst ContainerSwitch = styled.div(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n\\t\", \";\\n\"])), props => props.portrait && \"\\n\\t\\theight: 100%;\\n\\t\\twidth: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: flex-end;\\n\\t\\tflex-direction: column;\\n\\t\\tjustify-content: flex-end;\\n\\t\");\nconst ContainerStatus = styled.div(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n\\twidth: \", \"px;\\n\\t\", \"\\n\\t\", \"\\n\\tmargin-left: \", \"px;\\n\\tmargin-top: \", \"px;\\n\\tdisplay: flex;\\n\\tflex-direction: \", \";\\n\\talign-items: center;\\n\\tjustify-content: \", \";\\n\\tfont-size: \", \"px;\\n\"])), props => props.pixelSize * 8, props => !props.portrait && \"height: \".concat(props.pixelSize * 18 + 18 / 3 * 1, \"px;\"), props => props.portrait && \"width: \".concat(props.pixelSize * 10 + 10 / 3 * 1, \"px;\"), props => props.portrait ? 0 : props.pixelSize / 3, props => props.portrait ? props.pixelSize / 3 : 0, props => props.portrait ? \"row\" : \"column\", props => props.portrait ? \"space-between\" : \"flex-start\", props => props.pixelSize);\nconst getRenderizacaoBloco = bloco => {\n  let trimRowBloco = [];\n  let sumColumn = {};\n  bloco.forEach((row, y) => {\n    let rowSum = 0;\n    row.forEach(pixel => rowSum = rowSum + pixel);\n    if (rowSum > 0) trimRowBloco.push(row);\n    row.forEach((pixel, x) => {\n      sumColumn[x] = (sumColumn[x] ? sumColumn[x] : 0) + pixel;\n    });\n  });\n  let trimBloco = [];\n  trimRowBloco.forEach((row, y) => {\n    let newRow = [];\n    row.forEach((pixel, x) => {\n      if (sumColumn[x] > 0) newRow.push(pixel);\n    });\n    trimBloco.push(newRow);\n  });\n  return trimBloco;\n};\nconst Stage = _ref => {\n  let {\n      lose,\n      restartClick,\n      map,\n      player,\n      hint,\n      status,\n      paused\n    } = _ref,\n    others = _objectWithoutProperties(_ref, _excluded);\n  const [pixelSize, setPixelSize] = useState(30);\n  const [portrait, setPortrait] = useState(false);\n  const {\n    width,\n    height\n  } = useWindowDimensions();\n  const [theme3d, setTheme3d] = useState(false);\n  const [nextRender, setNextRender] = useState();\n  const stageRef = useRef(null);\n  useEffect(() => {\n    let pixelSizeHeight = height / 20;\n    let pixelSizeWidth = width / 32;\n    if (portrait) {\n      pixelSizeHeight = height / 26;\n      pixelSizeWidth = width / 12;\n    }\n    setPixelSize(pixelSizeWidth < pixelSizeHeight ? pixelSizeWidth : pixelSizeHeight);\n    setPortrait(height > width);\n  }, [width, height, portrait]);\n  useEffect(() => {\n    if (!player.next) return;\n    setNextRender(getRenderizacaoBloco(player.next.bloco));\n  }, [player.next]);\n  useEffect(() => {\n    if (!lose) {\n      stageRef.current.focus();\n    }\n  }, [lose]);\n  useEffect(() => {\n    stageRef.current.focus();\n  }, [theme3d]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Game, {\n    portrait: portrait,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 4\n    }\n  }, nextRender && /*#__PURE__*/React.createElement(ContainerNext, {\n    portrait: portrait,\n    pixelSize: pixelSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Next, {\n    portrait: portrait,\n    theme3d: theme3d,\n    pixelSize: pixelSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }, nextRender.map((row, y) => /*#__PURE__*/React.createElement(Row, {\n    pixelSize: pixelSize,\n    key: \"row-\".concat(y),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, row.map((pixel, x) => {\n    let topBloco = pixel && (!nextRender[y - 1] || !nextRender[y - 1][x]);\n    return /*#__PURE__*/React.createElement(Pixel, {\n      paused: paused,\n      theme3d: theme3d,\n      topBloco: topBloco,\n      zIndex: y,\n      pixelSize: pixelSize,\n      key: \"pixel-\".concat(x),\n      fill: pixel,\n      color: player.next.color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 12\n      }\n    });\n  })))), /*#__PURE__*/React.createElement(ContainerSwitch, {\n    portrait: portrait,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    width: pixelSize * 2,\n    height: pixelSize / 1.2,\n    onChange: setTheme3d,\n    checked: theme3d,\n    offColor: \"#000\",\n    onColor: \"#444\",\n    uncheckedIcon: /*#__PURE__*/React.createElement(Center, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Pixel, {\n      theme3d: false,\n      pixelSize: pixelSize / 3,\n      stage: \"true\",\n      fill: 1,\n      color: \"#e54b4b\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }\n    })),\n    checkedIcon: /*#__PURE__*/React.createElement(Center, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Pixel, {\n      theme3d: \"true\",\n      pixelSize: pixelSize / 3,\n      stage: \"true\",\n      fill: 1,\n      color: \"#e54b4b\",\n      topBloco: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 8\n    }\n  }))), map && /*#__PURE__*/React.createElement(StyledStage, Object.assign({\n    ref: stageRef\n  }, others, {\n    theme3d: theme3d,\n    pixelSize: pixelSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 6\n    }\n  }), map.map((row, y) => /*#__PURE__*/React.createElement(Row, {\n    stage: \"true\",\n    pixelSize: pixelSize,\n    key: \"row-\".concat(y),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 8\n    }\n  }, row.map((pixel, x) => {\n    let playerFill = player.bloco.bloco[y - player.pos[0]] && player.bloco.bloco[y - player.pos[0]][x - player.pos[1]];\n    let playerHint = hint.bloco.bloco[y - hint.pos[0]] && hint.bloco.bloco[y - hint.pos[0]][x - hint.pos[1]];\n    let topBloco = (playerFill || pixel.fill) && (!player.bloco.bloco[y - player.pos[0] - 1] || !player.bloco.bloco[y - player.pos[0] - 1][x - player.pos[1]]) && (!map[y - 1] || !map[y - 1][x].fill);\n    let zIndex = !playerFill && !pixel.fill && playerHint ? 99 : y;\n    return /*#__PURE__*/React.createElement(Pixel, {\n      paused: paused,\n      theme3d: theme3d,\n      hint: !pixel.fill && !playerFill && playerHint,\n      pixelSize: pixelSize,\n      stage: \"true\",\n      key: \"pixel-\".concat(x),\n      fill: pixel.fill || playerFill,\n      color: playerFill ? player.bloco.color : pixel.color,\n      playerColor: player.bloco.color,\n      topBloco: topBloco,\n      zIndex: zIndex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }\n    });\n  })))), status && /*#__PURE__*/React.createElement(ContainerStatus, {\n    portrait: portrait,\n    pixelSize: pixelSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(StatusRow, {\n    backgroundColor: theme3d ? \"#444\" : \"black\",\n    portrait: portrait,\n    borderSize: pixelSize / 10,\n    margin: pixelSize / 3,\n    padding: pixelSize / 2,\n    title: \"SCORE\",\n    value: status.score,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(StatusRow, {\n    backgroundColor: theme3d ? \"#444\" : \"black\",\n    portrait: portrait,\n    borderSize: pixelSize / 10,\n    margin: pixelSize / 3,\n    padding: pixelSize / 2,\n    title: \"LEVEL\",\n    value: status.level,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(StatusRow, {\n    backgroundColor: theme3d ? \"#444\" : \"black\",\n    portrait: portrait,\n    borderSize: pixelSize / 10,\n    margin: pixelSize / 3,\n    padding: pixelSize / 2,\n    title: \"LINES\",\n    value: status.lines,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }\n  }))), lose && /*#__PURE__*/React.createElement(LoseGame, {\n    portrait: portrait,\n    restartClick: restartClick,\n    status: status,\n    pixelSize: pixelSize,\n    theme3d: theme3d,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 5\n    }\n  }));\n};\nexport default Stage;","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","Switch","useWindowDimensions","background","StatusRow","LoseGame","Color","Game","div","_templateObject","_taggedTemplateLiteral","props","portrait","ContainerNext","_templateObject2","concat","pixelSize","Next","_templateObject3","theme3d","StyledStage","_templateObject4","Center","_templateObject5","Row","_templateObject6","stage","Pixel","memo","_templateObject7","fill","color","zIndex","paused","topBloco","lighten","hint","playerColor","alpha","ContainerSwitch","_templateObject8","ContainerStatus","_templateObject9","getRenderizacaoBloco","bloco","trimRowBloco","sumColumn","forEach","row","y","rowSum","pixel","push","x","trimBloco","newRow","Stage","_ref","lose","restartClick","map","player","status","others","_objectWithoutProperties","_excluded","setPixelSize","setPortrait","width","height","setTheme3d","nextRender","setNextRender","stageRef","pixelSizeHeight","pixelSizeWidth","next","current","focus","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","key","onChange","checked","offColor","onColor","uncheckedIcon","checkedIcon","Object","assign","ref","playerFill","pos","playerHint","backgroundColor","borderSize","margin","padding","title","value","score","level","lines"],"sources":["C:/Users/Win11 Pro/Desktop/NPM/Tetris-Game-Deployment-Automation/src/components/Stage/index.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Switch from \"react-switch\";\r\n\r\nimport useWindowDimensions from \"../../hooks/useWindowDimensions\";\r\nimport background from \"../../images/background.jpg\";\r\nimport StatusRow from \"../StatusRow\";\r\nimport LoseGame from '../LoseGame';\r\n\r\nimport Color from \"color\";\r\n\r\nconst Game = styled.div`\r\n\twidth: 100vw;\r\n\theight: ${props => (props.portrait ? \"95\" : \"100\")}vh;\r\n\tdisplay: flex;\r\n\tflex-direction: ${props => (props.portrait ? \"column\" : \"row\")};\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tbackground-image: url(${background});\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n`;\r\n\r\nconst ContainerNext = styled.div`\r\n\t${props =>\r\n\t\t!props.portrait && `height: ${props.pixelSize * 18 + (18 / 3) * 1}px;`}\r\n\t${props => props.portrait && `width: ${props.pixelSize * 10 + (10 / 3) * 1}px;`}\r\n\tmargin-right: ${props => (props.portrait ? 0 : props.pixelSize / 3)}px;\r\n\tmargin-bottom: ${props => (props.portrait ? props.pixelSize / 3 : 0)}px;\r\n\tdisplay: flex;\r\n\tflex-direction: ${props => (props.portrait ? \"row\" : \"column\")};\r\n\tjustify-content: ${props => (props.portrait ? \"space-between\" : \"flex-start\")};\r\n\talign-items: center;\r\n`;\r\n\r\nconst Next = styled.div`\r\n\twidth: ${props => props.pixelSize * 3}px;\r\n\theight: ${props => props.pixelSize * 3}px;\r\n\tbackground-color: ${props => (props.theme3d ? \"#444\" : \"black\")};\r\n\ttransition: background-color 0.5;\r\n\tborder: ${props => props.pixelSize / 10}px solid white;\r\n\toverflow: hidden;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tmargin-bottom: ${props => (props.portrait ? 0 : props.pixelSize / 3)}px;\r\n\tmargin-right: ${props => (!props.portrait ? 0 : props.pixelSize / 3)}px;\r\n`;\r\n\r\nconst StyledStage = styled.div`\r\n\tborder: ${props => props.pixelSize / 10}px solid white;\r\n\tbackground-color: ${props => (props.theme3d ? \"#444\" : \"black\")};\r\n\ttransition: background-color 0.5s;\r\n\toverflow: hidden;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n`;\r\n\r\nconst Center = styled.div`\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n`;\r\n\r\nconst Row = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: center;\r\n\theight: ${props => (props.stage ? props.pixelSize : props.pixelSize / 1.6)}px;\r\n`;\r\n\r\nconst Pixel = React.memo(styled.div`\r\n\twidth: ${props => (props.stage ? props.pixelSize : props.pixelSize / 1.6)}px;\r\n\theight: ${props => (props.stage ? props.pixelSize : props.pixelSize / 1.6)}px;\r\n\tbackground-color: ${props => (props.fill === 1 ? props.color : \"inherited\")};\r\n\tposition: relative;\r\n\tz-index: ${props => props.zIndex};\r\n\r\n\t${props =>\r\n\t\tprops.paused &&\r\n\t\t`\r\n\t\ttransition: all 1s;\r\n\t`};\r\n\r\n\t${props =>\r\n\t\tprops.fill &&\r\n\t\tprops.theme3d &&\r\n\t\t`;\r\n\t\tbox-shadow: ${props.pixelSize / 4.16}px ${props.pixelSize /\r\n\t\t\t4.16}px ${props.pixelSize / 5.55}px #222${\r\n\t\t\tprops.topBloco\r\n\t\t\t\t? `, 0 ${-props.pixelSize / 4.16}px 0 ${Color(props.color).lighten(0.2)}`\r\n\t\t\t\t: \"\"\r\n\t\t} \r\n\t`};\r\n\r\n\t${props =>\r\n\t\t!props.theme3d &&\r\n\t\t`\r\n\t\tborder-left: 1px solid ${\r\n\t\t\tprops.stage || props.fill || props.hint ? \"#222\" : \"black\"\r\n\t\t};\r\n\t\tborder-top: 1px solid ${\r\n\t\t\tprops.stage || props.fill || props.hint ? \"#222\" : \"black\"\r\n\t\t};\t\r\n\t`};\r\n\r\n\t${props =>\r\n\t\tprops.hint &&\r\n\t\t`\r\n\t\tborder: 1px solid ${Color(props.playerColor).alpha(0.5)};\r\n\t\tbackground-color: rgba(255,255,255,0.1);\r\n\t`};\r\n`);\r\n\r\nconst ContainerSwitch = styled.div`\r\n\t${props =>\r\n\t\tprops.portrait &&\r\n\t\t`\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: flex-end;\r\n\t`};\r\n`;\r\n\r\nconst ContainerStatus = styled.div`\r\n\twidth: ${props => props.pixelSize * 8}px;\r\n\t${props =>\r\n\t\t!props.portrait && `height: ${props.pixelSize * 18 + (18 / 3) * 1}px;`}\r\n\t${props => props.portrait && `width: ${props.pixelSize * 10 + (10 / 3) * 1}px;`}\r\n\tmargin-left: ${props => (props.portrait ? 0 : props.pixelSize / 3)}px;\r\n\tmargin-top: ${props => (props.portrait ? props.pixelSize / 3 : 0)}px;\r\n\tdisplay: flex;\r\n\tflex-direction: ${props => (props.portrait ? \"row\" : \"column\")};\r\n\talign-items: center;\r\n\tjustify-content: ${props => (props.portrait ? \"space-between\" : \"flex-start\")};\r\n\tfont-size: ${props => props.pixelSize}px;\r\n`;\r\n\r\nconst getRenderizacaoBloco = bloco => {\r\n\tlet trimRowBloco = [];\r\n\tlet sumColumn = {};\r\n\tbloco.forEach((row, y) => {\r\n\t\tlet rowSum = 0;\r\n\t\trow.forEach(pixel => (rowSum = rowSum + pixel));\r\n\t\tif (rowSum > 0) trimRowBloco.push(row);\r\n\t\trow.forEach((pixel, x) => {\r\n\t\t\tsumColumn[x] = (sumColumn[x] ? sumColumn[x] : 0) + pixel;\r\n\t\t});\r\n\t});\r\n\tlet trimBloco = [];\r\n\ttrimRowBloco.forEach((row, y) => {\r\n\t\tlet newRow = [];\r\n\t\trow.forEach((pixel, x) => {\r\n\t\t\tif (sumColumn[x] > 0) newRow.push(pixel);\r\n\t\t});\r\n\t\ttrimBloco.push(newRow);\r\n\t});\r\n\treturn trimBloco;\r\n};\r\n\r\nconst Stage = ({ lose, restartClick, map, player, hint, status, paused, ...others }) => {\r\n\tconst [pixelSize, setPixelSize] = useState(30);\r\n\tconst [portrait, setPortrait] = useState(false);\r\n\tconst { width, height } = useWindowDimensions();\r\n\tconst [theme3d, setTheme3d] = useState(false);\r\n\tconst [nextRender, setNextRender] = useState();\r\n\tconst stageRef = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet pixelSizeHeight = height / 20;\r\n\t\tlet pixelSizeWidth = width / 32;\r\n\t\tif (portrait) {\r\n\t\t\tpixelSizeHeight = height / 26;\r\n\t\t\tpixelSizeWidth = width / 12;\r\n\t\t}\r\n\t\tsetPixelSize(\r\n\t\t\tpixelSizeWidth < pixelSizeHeight ? pixelSizeWidth : pixelSizeHeight\r\n\t\t);\r\n\t\tsetPortrait(height > width);\r\n\t}, [width, height, portrait]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!player.next) return;\r\n\t\tsetNextRender(getRenderizacaoBloco(player.next.bloco));\r\n\t}, [player.next]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!lose) {\r\n\t\t\tstageRef.current.focus();\r\n\t\t}\r\n\t}, [lose]);\r\n\r\n\tuseEffect(() => {\r\n\t\tstageRef.current.focus();\r\n\t}, [theme3d]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Game portrait={portrait}>\r\n\t\t\t\t{nextRender && (\r\n\t\t\t\t\t<ContainerNext portrait={portrait} pixelSize={pixelSize}>\r\n\t\t\t\t\t\t<Next portrait={portrait} theme3d={theme3d} pixelSize={pixelSize}>\r\n\t\t\t\t\t\t\t{nextRender.map((row, y) => (\r\n\t\t\t\t\t\t\t\t<Row pixelSize={pixelSize} key={`row-${y}`}>\r\n\t\t\t\t\t\t\t\t\t{row.map((pixel, x) => {\r\n\t\t\t\t\t\t\t\t\t\tlet topBloco = pixel && (!nextRender[y - 1] || !nextRender[y - 1][x]);\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Pixel\r\n\t\t\t\t\t\t\t\t\t\t\t\tpaused={paused}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttheme3d={theme3d}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttopBloco={topBloco}\r\n\t\t\t\t\t\t\t\t\t\t\t\tzIndex={y}\r\n\t\t\t\t\t\t\t\t\t\t\t\tpixelSize={pixelSize}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`pixel-${x}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill={pixel}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={player.next.color}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Next>\r\n\t\t\t\t\t\t<ContainerSwitch portrait={portrait}>\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\twidth={pixelSize * 2}\r\n\t\t\t\t\t\t\t\theight={pixelSize / 1.2}\r\n\t\t\t\t\t\t\t\tonChange={setTheme3d}\r\n\t\t\t\t\t\t\t\tchecked={theme3d}\r\n\t\t\t\t\t\t\t\toffColor=\"#000\"\r\n\t\t\t\t\t\t\t\tonColor=\"#444\"\r\n\t\t\t\t\t\t\t\tuncheckedIcon={\r\n\t\t\t\t\t\t\t\t\t<Center>\r\n\t\t\t\t\t\t\t\t\t\t<Pixel\r\n\t\t\t\t\t\t\t\t\t\t\ttheme3d={false}\r\n\t\t\t\t\t\t\t\t\t\t\tpixelSize={pixelSize / 3}\r\n\t\t\t\t\t\t\t\t\t\t\tstage=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill={1}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor={\"#e54b4b\"}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Center>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tcheckedIcon={\r\n\t\t\t\t\t\t\t\t\t<Center>\r\n\t\t\t\t\t\t\t\t\t\t<Pixel\r\n\t\t\t\t\t\t\t\t\t\t\ttheme3d=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\tpixelSize={pixelSize / 3}\r\n\t\t\t\t\t\t\t\t\t\t\tstage=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill={1}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor={\"#e54b4b\"}\r\n\t\t\t\t\t\t\t\t\t\t\ttopBloco=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Center>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ContainerSwitch>\r\n\t\t\t\t\t</ContainerNext>\r\n\t\t\t\t)}\r\n\t\t\t\t{map && (\r\n\t\t\t\t\t<StyledStage ref={stageRef} {...others} theme3d={theme3d} pixelSize={pixelSize}>\r\n\t\t\t\t\t\t{map.map((row, y) => (\r\n\t\t\t\t\t\t\t<Row stage=\"true\" pixelSize={pixelSize} key={`row-${y}`}>\r\n\t\t\t\t\t\t\t\t{row.map((pixel, x) => {\r\n\t\t\t\t\t\t\t\t\tlet playerFill =\r\n\t\t\t\t\t\t\t\t\t\tplayer.bloco.bloco[y - player.pos[0]] &&\r\n\t\t\t\t\t\t\t\t\t\tplayer.bloco.bloco[y - player.pos[0]][x - player.pos[1]];\r\n\t\t\t\t\t\t\t\t\tlet playerHint =\r\n\t\t\t\t\t\t\t\t\t\thint.bloco.bloco[y - hint.pos[0]] &&\r\n\t\t\t\t\t\t\t\t\t\thint.bloco.bloco[y - hint.pos[0]][x - hint.pos[1]];\r\n\t\t\t\t\t\t\t\t\tlet topBloco =\r\n\t\t\t\t\t\t\t\t\t\t(playerFill || pixel.fill) &&\r\n\t\t\t\t\t\t\t\t\t\t(!player.bloco.bloco[y - player.pos[0] - 1] ||\r\n\t\t\t\t\t\t\t\t\t\t\t!player.bloco.bloco[y - player.pos[0] - 1][x - player.pos[1]]) &&\r\n\t\t\t\t\t\t\t\t\t\t(!map[y - 1] || !map[y - 1][x].fill);\r\n\t\t\t\t\t\t\t\t\tlet zIndex = !playerFill && !pixel.fill && playerHint ? 99 : y;\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Pixel\r\n\t\t\t\t\t\t\t\t\t\t\tpaused={paused}\r\n\t\t\t\t\t\t\t\t\t\t\ttheme3d={theme3d}\r\n\t\t\t\t\t\t\t\t\t\t\thint={!pixel.fill && !playerFill && playerHint}\r\n\t\t\t\t\t\t\t\t\t\t\tpixelSize={pixelSize}\r\n\t\t\t\t\t\t\t\t\t\t\tstage=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`pixel-${x}`}\r\n\t\t\t\t\t\t\t\t\t\t\tfill={pixel.fill || playerFill}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor={playerFill ? player.bloco.color : pixel.color}\r\n\t\t\t\t\t\t\t\t\t\t\tplayerColor={player.bloco.color}\r\n\t\t\t\t\t\t\t\t\t\t\ttopBloco={topBloco}\r\n\t\t\t\t\t\t\t\t\t\t\tzIndex={zIndex}\r\n\t\t\t\t\t\t\t\t\t\t></Pixel>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</StyledStage>\r\n\t\t\t\t)}\r\n\t\t\t\t{status && (\r\n\t\t\t\t\t<ContainerStatus portrait={portrait} pixelSize={pixelSize}>\r\n\t\t\t\t\t\t<StatusRow\r\n\t\t\t\t\t\t\tbackgroundColor={theme3d ? \"#444\" : \"black\"}\r\n\t\t\t\t\t\t\tportrait={portrait}\r\n\t\t\t\t\t\t\tborderSize={pixelSize / 10}\r\n\t\t\t\t\t\t\tmargin={pixelSize / 3}\r\n\t\t\t\t\t\t\tpadding={pixelSize / 2}\r\n\t\t\t\t\t\t\ttitle=\"SCORE\"\r\n\t\t\t\t\t\t\tvalue={status.score}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<StatusRow\r\n\t\t\t\t\t\t\tbackgroundColor={theme3d ? \"#444\" : \"black\"}\r\n\t\t\t\t\t\t\tportrait={portrait}\r\n\t\t\t\t\t\t\tborderSize={pixelSize / 10}\r\n\t\t\t\t\t\t\tmargin={pixelSize / 3}\r\n\t\t\t\t\t\t\tpadding={pixelSize / 2}\r\n\t\t\t\t\t\t\ttitle=\"LEVEL\"\r\n\t\t\t\t\t\t\tvalue={status.level}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<StatusRow\r\n\t\t\t\t\t\t\tbackgroundColor={theme3d ? \"#444\" : \"black\"}\r\n\t\t\t\t\t\t\tportrait={portrait}\r\n\t\t\t\t\t\t\tborderSize={pixelSize / 10}\r\n\t\t\t\t\t\t\tmargin={pixelSize / 3}\r\n\t\t\t\t\t\t\tpadding={pixelSize / 2}\r\n\t\t\t\t\t\t\ttitle=\"LINES\"\r\n\t\t\t\t\t\t\tvalue={status.lines}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ContainerStatus>\r\n\t\t\t\t)}\r\n\t\t\t</Game>\r\n\t\t\t{ lose && \r\n\t\t\t\t<LoseGame portrait={portrait} restartClick={restartClick} status={status} pixelSize={pixelSize} theme3d={theme3d}>\r\n\t\t\t\t</LoseGame>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Stage;\r\n"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,MAAM,MAAM,cAAc;AAEjC,OAAOC,mBAAmB,MAAM,iCAAiC;AACjE,OAAOC,UAAU,MAAM,6BAA6B;AACpD,OAAOC,SAAS,MAAM,cAAc;AACpC,OAAOC,QAAQ,MAAM,aAAa;AAElC,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,IAAI,GAAGP,MAAM,CAACQ,GAAG,CAAAC,eAAA,KAAAA,eAAA,GAAAC,sBAAA,yOAEZC,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAG,IAAI,GAAG,KAAM,EAEhCD,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAG,QAAQ,GAAG,KAAM,EAGtCT,UAAU,CAGlC;AAED,MAAMU,aAAa,GAAGb,MAAM,CAACQ,GAAG,CAAAM,gBAAA,KAAAA,gBAAA,GAAAJ,sBAAA,2KAC7BC,KAAK,IACN,CAACA,KAAK,CAACC,QAAQ,eAAAG,MAAA,CAAeJ,KAAK,CAACK,SAAS,GAAG,EAAE,GAAI,EAAE,GAAG,CAAC,GAAI,CAAC,QAAK,EACrEL,KAAK,IAAIA,KAAK,CAACC,QAAQ,cAAAG,MAAA,CAAcJ,KAAK,CAACK,SAAS,GAAG,EAAE,GAAI,EAAE,GAAG,CAAC,GAAI,CAAC,QAAK,EAC/DL,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAG,CAAC,GAAGD,KAAK,CAACK,SAAS,GAAG,CAAE,EAClDL,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACK,SAAS,GAAG,CAAC,GAAG,CAAE,EAElDL,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAG,KAAK,GAAG,QAAS,EAC3CD,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAG,eAAe,GAAG,YAAa,CAE7E;AAED,MAAMK,IAAI,GAAGjB,MAAM,CAACQ,GAAG,CAAAU,gBAAA,KAAAA,gBAAA,GAAAR,sBAAA,wTACbC,KAAK,IAAIA,KAAK,CAACK,SAAS,GAAG,CAAC,EAC3BL,KAAK,IAAIA,KAAK,CAACK,SAAS,GAAG,CAAC,EAClBL,KAAK,IAAKA,KAAK,CAACQ,OAAO,GAAG,MAAM,GAAG,OAAQ,EAErDR,KAAK,IAAIA,KAAK,CAACK,SAAS,GAAG,EAAE,EAMtBL,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAG,CAAC,GAAGD,KAAK,CAACK,SAAS,GAAG,CAAE,EACpDL,KAAK,IAAK,CAACA,KAAK,CAACC,QAAQ,GAAG,CAAC,GAAGD,KAAK,CAACK,SAAS,GAAG,CAAE,CACpE;AAED,MAAMI,WAAW,GAAGpB,MAAM,CAACQ,GAAG,CAAAa,gBAAA,KAAAA,gBAAA,GAAAX,sBAAA,iOACnBC,KAAK,IAAIA,KAAK,CAACK,SAAS,GAAG,EAAE,EACnBL,KAAK,IAAKA,KAAK,CAACQ,OAAO,GAAG,MAAM,GAAG,OAAQ,CAO/D;AAED,MAAMG,MAAM,GAAGtB,MAAM,CAACQ,GAAG,CAAAe,gBAAA,KAAAA,gBAAA,GAAAb,sBAAA,iHAMxB;AAED,MAAMc,GAAG,GAAGxB,MAAM,CAACQ,GAAG,CAAAiB,gBAAA,KAAAA,gBAAA,GAAAf,sBAAA,oGAIXC,KAAK,IAAKA,KAAK,CAACe,KAAK,GAAGf,KAAK,CAACK,SAAS,GAAGL,KAAK,CAACK,SAAS,GAAG,GAAI,CAC1E;AAED,MAAMW,KAAK,GAAG/B,KAAK,CAACgC,IAAI,CAAC5B,MAAM,CAACQ,GAAG,CAAAqB,gBAAA,KAAAA,gBAAA,GAAAnB,sBAAA,gKACzBC,KAAK,IAAKA,KAAK,CAACe,KAAK,GAAGf,KAAK,CAACK,SAAS,GAAGL,KAAK,CAACK,SAAS,GAAG,GAAI,EAC/DL,KAAK,IAAKA,KAAK,CAACe,KAAK,GAAGf,KAAK,CAACK,SAAS,GAAGL,KAAK,CAACK,SAAS,GAAG,GAAI,EACtDL,KAAK,IAAKA,KAAK,CAACmB,IAAI,KAAK,CAAC,GAAGnB,KAAK,CAACoB,KAAK,GAAG,WAAY,EAEhEpB,KAAK,IAAIA,KAAK,CAACqB,MAAM,EAE9BrB,KAAK,IACNA,KAAK,CAACsB,MAAM,mCAGZ,EAECtB,KAAK,IACNA,KAAK,CAACmB,IAAI,IACVnB,KAAK,CAACQ,OAAO,0BAAAJ,MAAA,CAECJ,KAAK,CAACK,SAAS,GAAG,IAAI,SAAAD,MAAA,CAAMJ,KAAK,CAACK,SAAS,GACxD,IAAI,SAAAD,MAAA,CAAMJ,KAAK,CAACK,SAAS,GAAG,IAAI,aAAAD,MAAA,CAChCJ,KAAK,CAACuB,QAAQ,UAAAnB,MAAA,CACJ,CAACJ,KAAK,CAACK,SAAS,GAAG,IAAI,WAAAD,MAAA,CAAQT,KAAK,CAACK,KAAK,CAACoB,KAAK,CAAC,CAACI,OAAO,CAAC,GAAG,CAAC,IACrE,EAAE,UAEN,EAECxB,KAAK,IACN,CAACA,KAAK,CAACQ,OAAO,oCAAAJ,MAAA,CAGbJ,KAAK,CAACe,KAAK,IAAIf,KAAK,CAACmB,IAAI,IAAInB,KAAK,CAACyB,IAAI,GAAG,MAAM,GAAG,OAAO,mCAAArB,MAAA,CAG1DJ,KAAK,CAACe,KAAK,IAAIf,KAAK,CAACmB,IAAI,IAAInB,KAAK,CAACyB,IAAI,GAAG,MAAM,GAAG,OAAO,YAE3D,EAECzB,KAAK,IACNA,KAAK,CAACyB,IAAI,+BAAArB,MAAA,CAEUT,KAAK,CAACK,KAAK,CAAC0B,WAAW,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,wDAEvD,CACD,CAAC;AAEF,MAAMC,eAAe,GAAGvC,MAAM,CAACQ,GAAG,CAAAgC,gBAAA,KAAAA,gBAAA,GAAA9B,sBAAA,oBAC/BC,KAAK,IACNA,KAAK,CAACC,QAAQ,4JAQd,CACD;AAED,MAAM6B,eAAe,GAAGzC,MAAM,CAACQ,GAAG,CAAAkC,gBAAA,KAAAA,gBAAA,GAAAhC,sBAAA,+MACxBC,KAAK,IAAIA,KAAK,CAACK,SAAS,GAAG,CAAC,EACnCL,KAAK,IACN,CAACA,KAAK,CAACC,QAAQ,eAAAG,MAAA,CAAeJ,KAAK,CAACK,SAAS,GAAG,EAAE,GAAI,EAAE,GAAG,CAAC,GAAI,CAAC,QAAK,EACrEL,KAAK,IAAIA,KAAK,CAACC,QAAQ,cAAAG,MAAA,CAAcJ,KAAK,CAACK,SAAS,GAAG,EAAE,GAAI,EAAE,GAAG,CAAC,GAAI,CAAC,QAAK,EAChEL,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAG,CAAC,GAAGD,KAAK,CAACK,SAAS,GAAG,CAAE,EACpDL,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACK,SAAS,GAAG,CAAC,GAAG,CAAE,EAE/CL,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAG,KAAK,GAAG,QAAS,EAE3CD,KAAK,IAAKA,KAAK,CAACC,QAAQ,GAAG,eAAe,GAAG,YAAa,EAChED,KAAK,IAAIA,KAAK,CAACK,SAAS,CACrC;AAED,MAAM2B,oBAAoB,GAAGC,KAAK,IAAI;EACrC,IAAIC,YAAY,GAAG,EAAE;EACrB,IAAIC,SAAS,GAAG,CAAC,CAAC;EAClBF,KAAK,CAACG,OAAO,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAK;IACzB,IAAIC,MAAM,GAAG,CAAC;IACdF,GAAG,CAACD,OAAO,CAACI,KAAK,IAAKD,MAAM,GAAGA,MAAM,GAAGC,KAAM,CAAC;IAC/C,IAAID,MAAM,GAAG,CAAC,EAAEL,YAAY,CAACO,IAAI,CAACJ,GAAG,CAAC;IACtCA,GAAG,CAACD,OAAO,CAAC,CAACI,KAAK,EAAEE,CAAC,KAAK;MACzBP,SAAS,CAACO,CAAC,CAAC,GAAG,CAACP,SAAS,CAACO,CAAC,CAAC,GAAGP,SAAS,CAACO,CAAC,CAAC,GAAG,CAAC,IAAIF,KAAK;IACzD,CAAC,CAAC;EACH,CAAC,CAAC;EACF,IAAIG,SAAS,GAAG,EAAE;EAClBT,YAAY,CAACE,OAAO,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAK;IAChC,IAAIM,MAAM,GAAG,EAAE;IACfP,GAAG,CAACD,OAAO,CAAC,CAACI,KAAK,EAAEE,CAAC,KAAK;MACzB,IAAIP,SAAS,CAACO,CAAC,CAAC,GAAG,CAAC,EAAEE,MAAM,CAACH,IAAI,CAACD,KAAK,CAAC;IACzC,CAAC,CAAC;IACFG,SAAS,CAACF,IAAI,CAACG,MAAM,CAAC;EACvB,CAAC,CAAC;EACF,OAAOD,SAAS;AACjB,CAAC;AAED,MAAME,KAAK,GAAGC,IAAA,IAA0E;EAAA,IAAzE;MAAEC,IAAI;MAAEC,YAAY;MAAEC,GAAG;MAAEC,MAAM;MAAEzB,IAAI;MAAE0B,MAAM;MAAE7B;IAAkB,CAAC,GAAAwB,IAAA;IAARM,MAAM,GAAAC,wBAAA,CAAAP,IAAA,EAAAQ,SAAA;EAChF,MAAM,CAACjD,SAAS,EAAEkD,YAAY,CAAC,GAAGrE,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACe,QAAQ,EAAEuD,WAAW,CAAC,GAAGtE,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM;IAAEuE,KAAK;IAAEC;EAAO,CAAC,GAAGnE,mBAAmB,CAAC,CAAC;EAC/C,MAAM,CAACiB,OAAO,EAAEmD,UAAU,CAAC,GAAGzE,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC0E,UAAU,EAAEC,aAAa,CAAC,GAAG3E,QAAQ,CAAC,CAAC;EAC9C,MAAM4E,QAAQ,GAAG1E,MAAM,CAAC,IAAI,CAAC;EAE7BD,SAAS,CAAC,MAAM;IACf,IAAI4E,eAAe,GAAGL,MAAM,GAAG,EAAE;IACjC,IAAIM,cAAc,GAAGP,KAAK,GAAG,EAAE;IAC/B,IAAIxD,QAAQ,EAAE;MACb8D,eAAe,GAAGL,MAAM,GAAG,EAAE;MAC7BM,cAAc,GAAGP,KAAK,GAAG,EAAE;IAC5B;IACAF,YAAY,CACXS,cAAc,GAAGD,eAAe,GAAGC,cAAc,GAAGD,eACrD,CAAC;IACDP,WAAW,CAACE,MAAM,GAAGD,KAAK,CAAC;EAC5B,CAAC,EAAE,CAACA,KAAK,EAAEC,MAAM,EAAEzD,QAAQ,CAAC,CAAC;EAE7Bd,SAAS,CAAC,MAAM;IACf,IAAI,CAAC+D,MAAM,CAACe,IAAI,EAAE;IAClBJ,aAAa,CAAC7B,oBAAoB,CAACkB,MAAM,CAACe,IAAI,CAAChC,KAAK,CAAC,CAAC;EACvD,CAAC,EAAE,CAACiB,MAAM,CAACe,IAAI,CAAC,CAAC;EAEjB9E,SAAS,CAAC,MAAM;IACf,IAAI,CAAC4D,IAAI,EAAE;MACVe,QAAQ,CAACI,OAAO,CAACC,KAAK,CAAC,CAAC;IACzB;EACD,CAAC,EAAE,CAACpB,IAAI,CAAC,CAAC;EAEV5D,SAAS,CAAC,MAAM;IACf2E,QAAQ,CAACI,OAAO,CAACC,KAAK,CAAC,CAAC;EACzB,CAAC,EAAE,CAAC3D,OAAO,CAAC,CAAC;EAEb,oBACCvB,KAAA,CAAAmF,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACCzF,KAAA,CAAAmF,aAAA,CAACxE,IAAI;IAACK,QAAQ,EAAEA,QAAS;IAAAoE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACvBd,UAAU,iBACV3E,KAAA,CAAAmF,aAAA,CAAClE,aAAa;IAACD,QAAQ,EAAEA,QAAS;IAACI,SAAS,EAAEA,SAAU;IAAAgE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvDzF,KAAA,CAAAmF,aAAA,CAAC9D,IAAI;IAACL,QAAQ,EAAEA,QAAS;IAACO,OAAO,EAAEA,OAAQ;IAACH,SAAS,EAAEA,SAAU;IAAAgE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC/Dd,UAAU,CAACX,GAAG,CAAC,CAACZ,GAAG,EAAEC,CAAC,kBACtBrD,KAAA,CAAAmF,aAAA,CAACvD,GAAG;IAACR,SAAS,EAAEA,SAAU;IAACsE,GAAG,SAAAvE,MAAA,CAASkC,CAAC,CAAG;IAAA+B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACzCrC,GAAG,CAACY,GAAG,CAAC,CAACT,KAAK,EAAEE,CAAC,KAAK;IACtB,IAAInB,QAAQ,GAAGiB,KAAK,KAAK,CAACoB,UAAU,CAACtB,CAAC,GAAG,CAAC,CAAC,IAAI,CAACsB,UAAU,CAACtB,CAAC,GAAG,CAAC,CAAC,CAACI,CAAC,CAAC,CAAC;IACrE,oBACCzD,KAAA,CAAAmF,aAAA,CAACpD,KAAK;MACLM,MAAM,EAAEA,MAAO;MACfd,OAAO,EAAEA,OAAQ;MACjBe,QAAQ,EAAEA,QAAS;MACnBF,MAAM,EAAEiB,CAAE;MACVjC,SAAS,EAAEA,SAAU;MACrBsE,GAAG,WAAAvE,MAAA,CAAWsC,CAAC,CAAG;MAClBvB,IAAI,EAAEqB,KAAM;MACZpB,KAAK,EAAE8B,MAAM,CAACe,IAAI,CAAC7C,KAAM;MAAAiD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACzB,CAAC;EAEJ,CAAC,CACG,CACL,CACI,CAAC,eACPzF,KAAA,CAAAmF,aAAA,CAACxC,eAAe;IAAC3B,QAAQ,EAAEA,QAAS;IAAAoE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnCzF,KAAA,CAAAmF,aAAA,CAAC9E,MAAM;IACNmE,KAAK,EAAEpD,SAAS,GAAG,CAAE;IACrBqD,MAAM,EAAErD,SAAS,GAAG,GAAI;IACxBuE,QAAQ,EAAEjB,UAAW;IACrBkB,OAAO,EAAErE,OAAQ;IACjBsE,QAAQ,EAAC,MAAM;IACfC,OAAO,EAAC,MAAM;IACdC,aAAa,eACZ/F,KAAA,CAAAmF,aAAA,CAACzD,MAAM;MAAA0D,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACNzF,KAAA,CAAAmF,aAAA,CAACpD,KAAK;MACLR,OAAO,EAAE,KAAM;MACfH,SAAS,EAAEA,SAAS,GAAG,CAAE;MACzBU,KAAK,EAAC,MAAM;MACZI,IAAI,EAAE,CAAE;MACRC,KAAK,EAAE,SAAU;MAAAiD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACjB,CACM,CACR;IACDO,WAAW,eACVhG,KAAA,CAAAmF,aAAA,CAACzD,MAAM;MAAA0D,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACNzF,KAAA,CAAAmF,aAAA,CAACpD,KAAK;MACLR,OAAO,EAAC,MAAM;MACdH,SAAS,EAAEA,SAAS,GAAG,CAAE;MACzBU,KAAK,EAAC,MAAM;MACZI,IAAI,EAAE,CAAE;MACRC,KAAK,EAAE,SAAU;MACjBG,QAAQ,EAAC,MAAM;MAAA8C,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACf,CACM,CACR;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACD,CACe,CACH,CACf,EACAzB,GAAG,iBACHhE,KAAA,CAAAmF,aAAA,CAAC3D,WAAW,EAAAyE,MAAA,CAAAC,MAAA;IAACC,GAAG,EAAEtB;EAAS,GAAKV,MAAM;IAAE5C,OAAO,EAAEA,OAAQ;IAACH,SAAS,EAAEA,SAAU;IAAAgE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,IAC7EzB,GAAG,CAACA,GAAG,CAAC,CAACZ,GAAG,EAAEC,CAAC,kBACfrD,KAAA,CAAAmF,aAAA,CAACvD,GAAG;IAACE,KAAK,EAAC,MAAM;IAACV,SAAS,EAAEA,SAAU;IAACsE,GAAG,SAAAvE,MAAA,CAASkC,CAAC,CAAG;IAAA+B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACtDrC,GAAG,CAACY,GAAG,CAAC,CAACT,KAAK,EAAEE,CAAC,KAAK;IACtB,IAAI2C,UAAU,GACbnC,MAAM,CAACjB,KAAK,CAACA,KAAK,CAACK,CAAC,GAAGY,MAAM,CAACoC,GAAG,CAAC,CAAC,CAAC,CAAC,IACrCpC,MAAM,CAACjB,KAAK,CAACA,KAAK,CAACK,CAAC,GAAGY,MAAM,CAACoC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC5C,CAAC,GAAGQ,MAAM,CAACoC,GAAG,CAAC,CAAC,CAAC,CAAC;IACzD,IAAIC,UAAU,GACb9D,IAAI,CAACQ,KAAK,CAACA,KAAK,CAACK,CAAC,GAAGb,IAAI,CAAC6D,GAAG,CAAC,CAAC,CAAC,CAAC,IACjC7D,IAAI,CAACQ,KAAK,CAACA,KAAK,CAACK,CAAC,GAAGb,IAAI,CAAC6D,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC5C,CAAC,GAAGjB,IAAI,CAAC6D,GAAG,CAAC,CAAC,CAAC,CAAC;IACnD,IAAI/D,QAAQ,GACX,CAAC8D,UAAU,IAAI7C,KAAK,CAACrB,IAAI,MACxB,CAAC+B,MAAM,CAACjB,KAAK,CAACA,KAAK,CAACK,CAAC,GAAGY,MAAM,CAACoC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAC1C,CAACpC,MAAM,CAACjB,KAAK,CAACA,KAAK,CAACK,CAAC,GAAGY,MAAM,CAACoC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC5C,CAAC,GAAGQ,MAAM,CAACoC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAC9D,CAACrC,GAAG,CAACX,CAAC,GAAG,CAAC,CAAC,IAAI,CAACW,GAAG,CAACX,CAAC,GAAG,CAAC,CAAC,CAACI,CAAC,CAAC,CAACvB,IAAI,CAAC;IACrC,IAAIE,MAAM,GAAG,CAACgE,UAAU,IAAI,CAAC7C,KAAK,CAACrB,IAAI,IAAIoE,UAAU,GAAG,EAAE,GAAGjD,CAAC;IAC9D,oBACCrD,KAAA,CAAAmF,aAAA,CAACpD,KAAK;MACLM,MAAM,EAAEA,MAAO;MACfd,OAAO,EAAEA,OAAQ;MACjBiB,IAAI,EAAE,CAACe,KAAK,CAACrB,IAAI,IAAI,CAACkE,UAAU,IAAIE,UAAW;MAC/ClF,SAAS,EAAEA,SAAU;MACrBU,KAAK,EAAC,MAAM;MACZ4D,GAAG,WAAAvE,MAAA,CAAWsC,CAAC,CAAG;MAClBvB,IAAI,EAAEqB,KAAK,CAACrB,IAAI,IAAIkE,UAAW;MAC/BjE,KAAK,EAAEiE,UAAU,GAAGnC,MAAM,CAACjB,KAAK,CAACb,KAAK,GAAGoB,KAAK,CAACpB,KAAM;MACrDM,WAAW,EAAEwB,MAAM,CAACjB,KAAK,CAACb,KAAM;MAChCG,QAAQ,EAAEA,QAAS;MACnBF,MAAM,EAAEA,MAAO;MAAAgD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACR,CAAC;EAEX,CAAC,CACG,CACL,CACW,CACb,EACAvB,MAAM,iBACNlE,KAAA,CAAAmF,aAAA,CAACtC,eAAe;IAAC7B,QAAQ,EAAEA,QAAS;IAACI,SAAS,EAAEA,SAAU;IAAAgE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzDzF,KAAA,CAAAmF,aAAA,CAAC3E,SAAS;IACT+F,eAAe,EAAEhF,OAAO,GAAG,MAAM,GAAG,OAAQ;IAC5CP,QAAQ,EAAEA,QAAS;IACnBwF,UAAU,EAAEpF,SAAS,GAAG,EAAG;IAC3BqF,MAAM,EAAErF,SAAS,GAAG,CAAE;IACtBsF,OAAO,EAAEtF,SAAS,GAAG,CAAE;IACvBuF,KAAK,EAAC,OAAO;IACbC,KAAK,EAAE1C,MAAM,CAAC2C,KAAM;IAAAzB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACpB,CAAC,eACFzF,KAAA,CAAAmF,aAAA,CAAC3E,SAAS;IACT+F,eAAe,EAAEhF,OAAO,GAAG,MAAM,GAAG,OAAQ;IAC5CP,QAAQ,EAAEA,QAAS;IACnBwF,UAAU,EAAEpF,SAAS,GAAG,EAAG;IAC3BqF,MAAM,EAAErF,SAAS,GAAG,CAAE;IACtBsF,OAAO,EAAEtF,SAAS,GAAG,CAAE;IACvBuF,KAAK,EAAC,OAAO;IACbC,KAAK,EAAE1C,MAAM,CAAC4C,KAAM;IAAA1B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACpB,CAAC,eACFzF,KAAA,CAAAmF,aAAA,CAAC3E,SAAS;IACT+F,eAAe,EAAEhF,OAAO,GAAG,MAAM,GAAG,OAAQ;IAC5CP,QAAQ,EAAEA,QAAS;IACnBwF,UAAU,EAAEpF,SAAS,GAAG,EAAG;IAC3BqF,MAAM,EAAErF,SAAS,GAAG,CAAE;IACtBsF,OAAO,EAAEtF,SAAS,GAAG,CAAE;IACvBuF,KAAK,EAAC,OAAO;IACbC,KAAK,EAAE1C,MAAM,CAAC6C,KAAM;IAAA3B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACpB,CACe,CAEb,CAAC,EACL3B,IAAI,iBACL9D,KAAA,CAAAmF,aAAA,CAAC1E,QAAQ;IAACO,QAAQ,EAAEA,QAAS;IAAC+C,YAAY,EAAEA,YAAa;IAACG,MAAM,EAAEA,MAAO;IAAC9C,SAAS,EAAEA,SAAU;IAACG,OAAO,EAAEA,OAAQ;IAAA6D,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACvG,CACP,CAAC;AAER,CAAC;AAED,eAAe7B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}